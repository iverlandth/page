<article class="container">
<div class="span10">
<h1 id='rails_girls_app_tutorial'>Rails Sie App Tutorial</h1>

<p><em>Creado por Iver, <a href='https://twitter.com/iverlandth'>@iverlandth</a></em></p>
<p><strong>Asegúrese de que ha instalado rails.</strong>
  <a href='#'><strong>Siga la guía de instalación</strong></a> para ponerse en marcha..</p>

<h2 id='step_0_get_to_know_the_tools'>Paso 0: Conocer las herramientas</h2>

<ul>
  <li>Editor de texto: <a href='http://www.sublimetext.com'>Sublime Text</a>,
    <a href='http://www.activestate.com/komodo-edit'>Komodo Edit</a>, Vim, Emacs y Gedit son ejemplos de editores de texto también puede usarse para escribir código y editar archivos.
  </li>

  <li>Terminal (conocido como el símbolo del sistema en Windows): cuando se inicia el servidor de Rails y órdenes de marcha.</li>

  <li>Navegador web (Firefox, Safari, Chrome): para ver su aplicación.</li>
</ul>

<h2 id='step_1_creating_the_application'>Paso 1: Creación de la aplicación</h2>

<p>Vamos a crear un nuevo Rieles aplicación llamada <em>siesrl</em>.</p>

<p>En primer lugar, vamos a abrir una terminal:</p>

<ul>
  <li>Mac OS X: Spotlight Abrir, escriba  <em>Terminal</em>  y haga clic en el Terminal de aplicación.eces </em> application.</li>

  <li>Windows: Haga clic en Inicio y buscar <em>Command Prompt</em> y, a continuación,  haga clic en <em>Símbolo del sistema con Ruby on Rails</em>.
  </li>

  <li>Linux (Ubuntu):  Búsqueda de <em>Terminal</em>  en el tablero y haga clic en <em>Terminal</em>.</li>
</ul>

<p>A continuación, escriba los siguientes comandos en la terminal:</p>

<div class='highlight'><pre><code class='sh'>mkdir projects
  <span class='nb'>cd </span>projects
  rails new siesrl
  <span class='nb'>cd </span>siesrl
  rails server
</code></pre>
</div>
<p>Abra <a href='http://localhost:3000'>http://localhost:3000</a> en su navegador.</p>

<p>Teclea <code>CTRL-C</code> en la terminal para detener el servidor.</p>


<h2 id='step_2_create_idea_scaffold'>Step 2: Create Idea scaffold</h2>

<p>We&#8217;re going to use Rails&#8217; scaffold functionality to generate a starting point that allows us to list,
  add, remove, edit, and view things; in our case ideas.</p>


<div class='highlight'><pre><code class='sh'>rails generate scaffold idea name:string description:text picture:string
  rake db:migrate
  rails server
</code></pre>
</div>
<p>Open <a href='http://localhost:3000/ideas'>http://localhost:3000/ideas</a> in your browser.</p>

<p>Hit <code>CTRL-C</code> to quit the server again when you&#8217;ve clicked around a little.</p>

<h2 id='step_3_design'>Step 3: Design</h2>



<p>The app doesn&#8217;t look very nice yet. Let&#8217;s do something about that. We&#8217;ll use the Twitter Bootstrap
  project to give us nicer styling really easily.</p>

<p>Open <code>app/views/layouts/application.html.erb</code> in your text editor and above the line</p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span> <span class='n'>stylesheet_link_tag</span>
  <span class='s2'>&quot;application&quot;</span> <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
<p>add</p>

<div class='highlight'><pre><code class='erb'><span class='x'>&lt;link rel=&quot;stylesheet&quot; href=&quot;http://iverherlandth.herokuapp.com/assets/bootstrap.css&quot;&gt;</span>
</code></pre>
</div>
<p>and replace</p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span> <span class='k'>yield</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
<p>with</p>

<div class='highlight'><pre><code class='erb'><span class='x'>&lt;div class=&quot;container&quot;&gt;</span>
  <span class='x'>  </span><span class='cp'>&lt;%=</span> <span class='k'>yield</span>
  <span class='cp'>%&gt;</span><span class='x'/>
  <span class='x'>&lt;/div&gt;</span>
</code></pre>
</div>
<p>Let&#8217;s also add a navigation bar and footer to the layout. In the same file, under <code>&lt;body&gt;</code> add
</p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;div</span>
  <span class='na'>class=</span><span class='s'>&quot;navbar navbar-fixed-top&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;div</span>
  <span class='na'>class=</span><span class='s'>&quot;navbar-inner&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;div</span>
  <span class='na'>class=</span><span class='s'>&quot;container&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;a</span> <span class='na'>class=</span><span class='s'>&quot;brand&quot;</span>
  <span class='na'>href=</span><span class='s'>&quot;/&quot;</span><span class='nt'>&gt;</span>The Idea
  app<span class='nt'>&lt;/a&gt;</span>
  <span class='nt'>&lt;ul</span>
  <span class='na'>class=</span><span class='s'>&quot;nav&quot;</span><span class='nt'>&gt;</span>
  <span class='nt'>&lt;li</span>
  <span class='na'>class=</span><span class='s'>&quot;active&quot;</span><span class='nt'>&gt;&lt;a</span>
  <span class='na'>href=</span><span class='s'>&quot;/ideas&quot;</span><span class='nt'>&gt;</span>Ideas<span class='nt'>&lt;/a&gt;&lt;/li&gt;</span>
  <span class='nt'>&lt;/ul&gt;</span>
  <span class='nt'>&lt;/div&gt;</span>
  <span class='nt'>&lt;/div&gt;</span>
  <span class='nt'>&lt;/div&gt;</span>
</code></pre>
</div>
<p>and before <code>&lt;/body&gt;</code> add</p>

<div class='highlight'><pre><code class='html'><span class='nt'>&lt;footer&gt;</span>
  <span class='nt'>&lt;div</span>
  <span class='na'>class=</span><span class='s'>&quot;container&quot;</span><span class='nt'>&gt;</span>
  Sie Srl 2013
  <span class='nt'>&lt;/div&gt;</span>
  <span class='nt'>&lt;/footer&gt;</span>
</code></pre>
</div>
<p>Now let&#8217;s also change the styling of the ideas table. Open <code>app/assets/stylesheets/application.css</code>
  and at the bottom add</p>

<div class='highlight'><pre><code class='css'><span class='nt'>body</span> <span class='p'>{</span>
  <span class='k'>padding-top</span><span class='o'>:</span> <span class='m'>100px</span><span class='p'>;</span>
  <span class='p'>}</span>
  <span class='nt'>footer</span> <span class='p'>{</span> <span class='k'>margin-top</span><span class='o'>:</span>
  <span class='m'>100px</span><span class='p'>;</span> <span class='p'>}</span>
  <span class='nt'>table</span><span class='o'>,</span> <span class='nt'>td</span><span class='o'>,</span>
  <span class='nt'>th</span> <span class='p'>{</span> <span class='k'>vertical-align</span><span class='o'>:</span>
  <span class='k'>middle</span> <span class='cp'>!important</span><span class='p'>;</span> <span class='k'>border</span><span class='o'>:</span>
  <span class='k'>none</span> <span class='cp'>!important</span><span class='p'>;</span> <span class='p'>}</span>
  <span class='nt'>th</span> <span class='p'>{</span> <span class='k'>border-bottom</span><span class='o'>:</span>
  <span class='m'>1px</span> <span class='k'>solid</span> <span class='m'>#DDD</span> <span class='cp'>!important</span><span class='p'>;</span>
  <span class='p'>}</span>
</code></pre>
</div>

<h2 id='step_4_adding_picture_uploads'>Step 4: Adding picture uploads</h2>

<p>We need to install a piece of software to let us upload files in Rails.</p>

<p>Open <code>Gemfile</code> in the project directory and under the line</p>

<div class='highlight'><pre><code class='ruby'><span class='n'>gem</span> <span class='s1'>&#39;sqlite3&#39;</span>
</code></pre>
</div>
<p>add</p>

<div class='highlight'><pre><code class='ruby'><span class='n'>gem</span> <span class='s1'>&#39;carrierwave&#39;</span>
</code></pre>
</div>


<p>In the terminal run:</p>

<div class='highlight'><pre><code class='sh'>bundle
</code></pre>
</div>
<p>At this point you need to <strong>restart the Rails server process</strong> in the terminal. This is needed for the
  app to load the added library.</p>

<p>Now we can generate the code for handling uploads. In the terminal run:</p>

<div class='highlight'><pre><code class='sh'>rails generate uploader Picture
</code></pre>
</div>
<p>Open <code>app/models/idea.rb</code> and under the line</p>

<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Idea</span>
  <span class='o'>&lt;</span> <span class='no'>ActiveRecord</span><span class='o'>::</span><span class='no'>Base</span>
</code></pre>
</div>
<p>add</p>

<div class='highlight'><pre><code class='ruby'><span class='n'>mount_uploader</span>
  <span class='ss'>:picture</span><span class='p'>,</span> <span class='no'>PictureUploader</span>
</code></pre>
</div>
<p>Open <code>app/views/ideas/_form.html.erb</code> and change</p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='n'>f</span><span class='o'>.</span><span class='n'>text_field</span> <span class='ss'>:picture</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
<p>to</p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='n'>f</span><span class='o'>.</span><span class='n'>file_field</span> <span class='ss'>:picture</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
<p>and</p>

<p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='n'>form_for</span><span class='p'>(</span><span class='vi'>@idea</span><span class='p'>)</span>
  <span class='k'>do</span> <span class='o'>|</span><span class='n'>f</span><span class='o'>|</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
</p>

<p>to</p>

<p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='n'>form_for</span><span class='p'>(</span><span class='vi'>@idea</span><span class='p'>,</span>
  <span class='ss'>:html</span> <span class='o'>=&gt;</span> <span class='p'>{</span> <span class='ss'>:multipart</span>
  <span class='o'>=&gt;</span> <span class='kp'>true</span> <span class='p'>})</span> <span class='k'>do</span>
  <span class='o'>|</span><span class='n'>f</span><span class='o'>|</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
</p>

<p>When you upload a picture it doesn&#8217;t look nice because it only shows a path to the file, so let&#8217;s fix
  that.</p>

<p>Open <code>app/views/ideas/show.html.erb</code> and change</p>

<p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='vi'>@idea</span><span class='o'>.</span><span class='n'>picture</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
</p>

<p>to</p>

<p>

<div class='highlight'><pre><code class='erb'><span class='cp'>&lt;%=</span>
  <span class='n'>image_tag</span><span class='p'>(</span><span class='vi'>@idea</span><span class='o'>.</span><span class='n'>picture_url</span><span class='p'>,</span>
  <span class='ss'>:width</span> <span class='o'>=&gt;</span> <span class='mi'>600</span><span class='p'>)</span>
  <span class='k'>if</span>
  <span class='vi'>@idea</span><span class='o'>.</span><span class='n'>picture</span><span class='o'>.</span><span class='n'>present?</span>
  <span class='cp'>%&gt;</span><span class='x'/>
</code></pre>
</div>
</p>


<h2 id='step_5_finetune_the_routes'>Step 5: Finetune the routes</h2>

<p>If you try to open <a href='http://localhost:3000'>http://localhost:3000</a> it still shows the default page. Let&#8217;s
  make it redirect to the ideas page.</p>

<p>On Mac OS X and Linux, in the terminal run:</p>

<div class='highlight'><pre><code class='sh'>rm public/index.html
</code></pre>
</div>
<p>On Windows, in the command prompt run:</p>

<div class='highlight'><pre><code class='bat'><span class='k'>del</span> public\index.html
</code></pre>
</div>
<p>Then open <code>config/routes.rb</code> and after the first line add</p>

<div class='highlight'><pre><code class='ruby'><span class='n'>root</span> <span class='ss'>:to</span>
  <span class='o'>=&gt;</span>
  <span class='n'>redirect</span><span class='p'>(</span><span class='s1'>&#39;/ideas&#39;</span><span class='p'>)</span>
</code></pre>
</div>

<h2 id='what_next'>What next?</h2>

<ul>
  <li>Add design using HTML &#38; CSS</li>

  <li>Add ratings</li>

  <li>Use CoffeeScript (or JavaScript) to add interaction</li>

  <li>Add picture resizing to make loading the pictures faster</li>
</ul>
</div>
</article>